/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library","sap/m/library","sap/ui/base/ManagedObjectObserver","sap/ui/core/Control","sap/ui/Device","sap/ui/core/ResizeHandler","./ToolPageRenderer"],function(e,t,i,n,s,r,o){"use strict";var a="TPRangeSet";s.media.initRangeSet(a,[600],"px",["S","M"],true);var d=t.PageBackgroundDesign;var p=n.extend("sap.tnt.ToolPage",{metadata:{library:"sap.tnt",properties:{sideExpanded:{type:"boolean",group:"Misc",defaultValue:true},contentBackgroundDesign:{type:"sap.m.PageBackgroundDesign",group:"Appearance",defaultValue:d.Standard}},aggregations:{header:{type:"sap.ui.core.Control",multiple:false},subHeader:{type:"sap.ui.core.Control",multiple:false},sideContent:{type:"sap.tnt.SideNavigation",multiple:false},mainContents:{type:"sap.ui.core.Control",multiple:true,singularName:"mainContent"}},events:{}},renderer:o});p.prototype.init=function(){this._oContentObserver=new i(this._onContentChange.bind(this));this._oContentObserver.observe(this,{aggregations:["subHeader","sideContent"]});this._oContentVisibilityObserver=new i(this._onContentVisibilityChange.bind(this));this._deregisterControl()};p.prototype.exit=function(){this._deregisterControl();if(this._oContentObserver){this._oContentObserver.disconnect();this._oContentObserver=null}if(this._oContentVisibilityObserver){this._oContentVisibilityObserver.disconnect();this._oContentVisibilityObserver=null}};p.prototype.onBeforeRendering=function(){this._deregisterControl()};p.prototype.onAfterRendering=function(){this._resizeHandler=r.register(this.getDomRef(),this._resize.bind(this));this._updateLayoutSettings()};p.prototype.toggleSideContentMode=function(){return this.setSideExpanded(!this.getSideExpanded())};p.prototype.setSideExpanded=function(e){this.setProperty("sideExpanded",e,true);var t=this.getSideContent();if(!t){return this}t.setExpanded(e);var i=this.getDomRef();if(!i){return this}if(e){i.querySelector(".sapTntToolPageContentWrapper").classList.remove("sapTntToolPageAsideCollapsed")}else{i.querySelector(".sapTntToolPageContentWrapper").classList.add("sapTntToolPageAsideCollapsed")}return this};p.prototype._deregisterControl=function(){if(this._resizeHandler){r.deregister(this._resizeHandler);this._resizeHandler=null}};p.prototype._resize=function(){this._updateLayoutSettings()};p.prototype._updateLayoutSettings=function(){const e=this._getMediaRange();const t="sapTntToolPage-Layout"+e.name;if(this._sCurrentLayoutClassName===t){return}if(this._sCurrentLayoutClassName){this.removeStyleClass(this._sCurrentLayoutClassName)}this.setSideExpanded(this.isPropertyInitial("sideExpanded")?!this._isLayoutS():this.getSideExpanded());this.addStyleClass(t);this._sCurrentLayoutClassName=t};p.prototype._getMediaRange=function(){return s.media.getCurrentRange(a,window.innerWidth)};p.prototype._isLayoutS=function(){return this._getMediaRange().name==="S"};p.prototype._onContentChange=function(e){switch(e.mutation){case"insert":this._oContentVisibilityObserver.observe(e.child,{properties:["visible"]});break;case"remove":this._oContentVisibilityObserver.unobserve(e.child,{properties:["visible"]});break}};p.prototype._onContentVisibilityChange=function(e){this.invalidate()};return p});
//# sourceMappingURL=ToolPage.js.map