{"version":3,"file":"PersistenceWriteAPI.js","names":["sap","ui","define","_omit","Log","JsControlTreeModifier","DescriptorChangeTypes","FlexCustomData","UIChange","FlexState","FlexRuntimeInfoAPI","FlexInfoSession","Loader","ManifestUtils","Settings","Condenser","UIChangeManager","FlexObjectManager","Storage","FeaturesAPI","Layer","LayerUtils","Utils","PersistenceWriteAPI","isDescriptorChange","oChange","_getMap","getChangeTypes","includes","changeType","getChangeType","hasChanges","mPropertyBag","_getUIChanges","includeCtrlVariants","then","aChanges","length","hasDirtyChanges","hasDirtyFlexObjects","hasHigherLayerChanges","async","upToLayer","getCurrentLayer","aFlexObjects","getFlexObjects","aFilteredFlexObjects","filter","oFlexObject","isOverLayer","getLayer","filterHiddenFlexObjects","reference","save","sReference","getFlexReferenceForSelector","selector","oFlexInfoSession","getByReference","saveChangeKeepSession","setByReference","saveFlexObjects","version","invalidateCache","currentLayer","layer","updateResetAndPublishInfo","bHasChanges","bIsPublishAvailable","Promise","all","isPublishAvailable","oFlexInfo","isResetEnabled","isPublishEnabled","allContextsProvided","bIsLayerTransportable","USER","PUBLIC","oResponse","getFlexInfo","oError","error","message","oOldFlexInfoSession","oNewFlexInfoSession","setAllContextsProvided","getResetAndPublishInfoFromSession","oControl","sParameter","getFlexReferenceForControl","JSON","parse","window","sessionStorage","getItem","reset","oAppComponent","getAppComponentForSelector","resetFlexObjects","appComponent","add","sFlexReference","addSingleFlexObject","store","addDirtyChanges","addDirtyFlexObjects","getId","change","flexObjects","Error","bHasDescriptorChanges","some","map","aUIChanges","forEach","push","aAddedFlexObjects","aAddedUIChanges","find","oAddedFlexObject","remove","reject","isValidForDependencyMap","oElement","bySelector","getSelector","destroyAppliedCustomData","deleteFlexObjects","resolve","getChangesWarning","this","bHasChangesFromOtherSystem","isChangeFromOtherSystem","oSettingsInstance","getInstanceOrUndef","isProductiveSystemWithTransports","getIsProductiveSystem","getSystem","getClient","bHasNoChanges","oChangesWarning","showWarning","warningType","_condense","changes","Array","isArray","condense","_getAnnotationChanges","control","getAnnotationChanges","_getFlexObjectsForUser","sUserId","getUserId","getSupportInformation","user","setAdaptationLayer","sLayer","adaptationLayer"],"sources":["PersistenceWriteAPI-dbg.js"],"mappings":"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","ignoreList":[]}