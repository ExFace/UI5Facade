{"version":3,"file":"ChangesWriteAPI.js","names":["sap","ui","define","_omit","Log","JsControlTreeModifier","Component","Element","Lib","DescriptorChangeTypes","ChangeHandlerStorage","Applier","Reverter","ChangesUtils","FlexObjectFactory","States","VariantManagementState","FlexObjectState","ManifestUtils","DescriptorChangeFactory","AppVariantInlineChangeFactory","ControlVariantWriteUtils","FlexObjectManager","ContextBasedAdaptationsAPI","VersionsAPI","Utils","ChangesWriteAPI","createDescriptorChange","mPropertyBag","sLayer","changeSpecificData","layer","oInlineChange","changeType","content","texts","support","compositeCommand","adaptationId","createDescriptorInlineChange","then","oAppDescriptorChangeContent","createNew","reference","appComponent","generator","catch","oError","error","message","async","createAnnotationChange","oChangeHandler","getAnnotationChangeHandler","oFlexObject","completeChangeContent","modifier","createAndCompleteFlexObjectWithChangeHandlerInfo","createUIChange","getChangeHandler","getChangeType","controlType","selector","getLayer","oChangeSpecificData","Object","keys","forEach","sKey","warning","view","getViewForControl","setState","LifecycleState","NEW","create","oSelector","createControllerExtensionChange","getAppComponentForSelector","appId","getFlexReferenceForControl","mContextBasedAdaptationBag","control","hasAdaptationsModel","getDisplayedAdaptationId","getChangeTypes","includes","createFlexObject","annotationChange","Promise","resolve","name","viewSelector","getSelector","getId","sControlId","id","assign","getControlType","apply","element","reject","applyChangeOnControl","change","oResult","aDependentChanges","getOpenDependentChangesForControl","getControlIdBySelector","length","revert","oFlResourceBundle","getResourceBundleFor","sDependentChangesFileNames","map","oChange","join","Error","getText","oAppComponent","aResults","mRevertSettings","Array","isArray","revertChangeOnControl","aChanges","slice","reverse","reduce","oPreviousPromise","vResult","unshift","sControlType","appDescriptorChange","deleteVariantsAndRelatedObjects","variantManagementControl","isA","oVariantManagementControl","getAppComponentForControl","sVariantManagementReference","sFlexReference","aVariantsToBeDeleted","variants","filter","sVariantId","oVariant","getVariant","vmReference","vReference","forceDelete","aDraftFilenames","getDraftFilenames","aDirtyFlexObjectIds","getDirtyFlexObjects","sVariantID","deleteVariant","flat","restoreDeletedFlexObjects"],"sources":["ChangesWriteAPI-dbg.js"],"mappings":"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","ignoreList":[]}