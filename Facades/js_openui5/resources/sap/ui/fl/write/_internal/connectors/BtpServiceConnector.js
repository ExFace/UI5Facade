/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/merge","sap/ui/fl/Layer","sap/ui/fl/write/_internal/connectors/KeyUserConnector","sap/ui/fl/initial/_internal/connectors/BtpServiceConnector","sap/ui/fl/initial/_internal/connectors/Utils","sap/ui/fl/write/_internal/connectors/Utils"],function(e,n,t,s,r,a){"use strict";const i=e({},t,{layers:[n.CUSTOMER,n.PUBLIC,n.USER],ROUTES:{CONDENSE:`${s.ROOT}/actions/condense`,CHANGES:`${s.ROOT}/changes`,SETTINGS:`${s.ROOT}/settings`,TOKEN:`${s.ROOT}/settings`,VERSIONS:{GET:`${s.ROOT}/versions`,ACTIVATE:`${s.ROOT}/versions/activate`,DISCARD:`${s.ROOT}/versions/draft`,PUBLISH:`${s.ROOT}/versions/publish`},TRANSLATION:{UPLOAD:`${s.ROOT}/translation/texts`,DOWNLOAD:`${s.ROOT}/translation/texts`,GET_SOURCELANGUAGE:`${s.ROOT}/translation/sourcelanguages`},CONTEXTS:`${s.ROOT}/contexts`,SEEN_FEATURES:`${s.ROOT}/seenFeatures`,DELETE_USER_VARIANTS:`${s.ROOT}/variantdata/delete`,CONTEXT_BASED_ADAPTATION:e=>`${s.ROOT}/apps/${e}/adaptations/`},async getSeenFeatureIds(e){const n=r.getUrl(this.ROUTES.SEEN_FEATURES,e);const t=await r.sendRequest(n,"GET",{initialConnector:s});return t.response?.seenFeatureIds},async setSeenFeatureIds(e){const n={seenFeatureIds:e.seenFeatureIds};const t=r.getUrl(this.ROUTES.SEEN_FEATURES,e);const s=await a.sendRequest(t,"PUT",o.call(this,e.url,n));return s.response?.seenFeatureIds},condense(e){const n={};if(e.parentVersion!==undefined){n.parentVersion=e.parentVersion}if(this.isLanguageInfoRequired){r.addLanguageInfo(n)}const t=r.getUrl(this.ROUTES.CONDENSE,e,n);return a.sendRequest(t,"POST",o.call(this,e.url,e.flexObjects))},deleteUserVariantsForVM(e){const n={flexReference:e.flexReference,variantManagementReferences:e.variantManagementReferences};const t=r.getUrl(this.ROUTES.DELETE_USER_VARIANTS,e);return a.sendRequest(t,"POST",o.call(this,e.url,n))},contextBasedAdaptation:{create(e){const n={};if(e.parentVersion!==undefined){n.parentVersion=e.parentVersion}const t=r.getUrl(i.ROUTES.CONTEXT_BASED_ADAPTATION(e.appId),e,n);return a.sendRequest(t,"POST",{tokenUrl:i.ROUTES.TOKEN,initialConnector:s,payload:JSON.stringify(e.flexObject),dataType:"json",contentType:"application/json; charset=utf-8"})},reorder(e){const n={};if(e.parentVersion!==undefined){n.parentVersion=e.parentVersion}const t=r.getUrl(i.ROUTES.CONTEXT_BASED_ADAPTATION(e.appId),e,n);return a.sendRequest(t,"PUT",{tokenUrl:i.ROUTES.TOKEN,initialConnector:s,payload:JSON.stringify(e.flexObjects),dataType:"json",contentType:"application/json; charset=utf-8"})},update(e){const n={};if(e.parentVersion!==undefined){n.parentVersion=e.parentVersion}e.reference=e.adaptationId;const t=r.getUrl(i.ROUTES.CONTEXT_BASED_ADAPTATION(e.appId),e,n);return a.sendRequest(t,"PUT",{tokenUrl:i.ROUTES.TOKEN,initialConnector:s,payload:JSON.stringify(e.flexObject),dataType:"json",contentType:"application/json; charset=utf-8"})},load(e){const n={};n.version=e.version;var t=r.getUrl(i.ROUTES.CONTEXT_BASED_ADAPTATION(e.appId),e,n);return r.sendRequest(t,"GET",{initialConnector:s,tokenUrl:i.ROUTES.TOKEN}).then(function(e){return e.response})},remove(e){const n={};if(e.parentVersion!==undefined){n.parentVersion=e.parentVersion}e.reference=e.adaptationId;const t=r.getUrl(i.ROUTES.CONTEXT_BASED_ADAPTATION(e.appId),e,n);return a.sendRequest(t,"DELETE",{tokenUrl:i.ROUTES.TOKEN,initialConnector:s})}}});function o(e,n){return a.getRequestOptions(s,r.getUrl(this.ROUTES.TOKEN,{url:e}),n,"application/json; charset=utf-8","json")}i.initialConnector=s;return i});
//# sourceMappingURL=BtpServiceConnector.js.map