/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/core/ComponentRegistry","sap/ui/fl/support/_internal/getAllUIChanges","sap/ui/fl/support/_internal/getFlexObjectInfos","sap/ui/fl/support/_internal/getFlexSettings","sap/ui/fl/support/_internal/getChangeDependencies","sap/ui/fl/Utils"],function(n,e,t,i,o,r,a){"use strict";async function c(){const e=await a.getUShellService("AppLifeCycle");const t=e.getCurrentApplication();const i=await t.getIntent();let o=document.getElementById(`application-${i.semanticObject}-${i.action}`);if(!o){const n=[...document.getElementsByTagName("iFrame")];o=n.find(n=>{const e=n.getAttribute("data-help-id");return e===`application-${i.semanticObject}-${i.action}`})}if(!o){const e="Possible cFLP scenario, but the iFrame can't be found";n.error(e);throw Error(e)}return o}async function p(){if(a.getUshellContainer()){const n=await a.getUShellService("AppLifeCycle");const e=n.getCurrentApplication();if(e.componentInstance){return{component:e.componentInstance}}const t=await c();return new Promise(function(n){t.contentWindow.sap.ui.require(["sap/ui/fl/Utils"],function(e){e.getUShellService("AppLifeCycle").then(function(e){const t=e.getCurrentApplication();n(t.componentInstance)})})}).then(function(n){if(n){return{iFrame:t,component:n}}throw new Error("No application component found")})}const n=e.filter(function(n){return n.getManifestObject().getRawJson()["sap.app"].type==="application"});if(n.length===1){return{component:n[0]}}throw new Error("No application component found")}async function s(n,e){const t=await p();if(!t.iFrame){return n(t.component)}return new Promise(function(n){t.iFrame.contentWindow.sap.ui.require([e],function(e){e(t.component).then(n)})})}const u={getAllUIChanges(){return s(t,"sap/ui/fl/support/_internal/getAllUIChanges")},getFlexObjectInfos(){return s(i,"sap/ui/fl/support/_internal/getFlexObjectInfos")},getChangeDependencies(){return s(r,"sap/ui/fl/support/_internal/getChangeDependencies")},getFlexSettings(){return s(o,"sap/ui/fl/support/_internal/getFlexSettings")},async getApplicationComponent(){const n=await p();return n.component}};return u});
//# sourceMappingURL=SupportAPI.js.map