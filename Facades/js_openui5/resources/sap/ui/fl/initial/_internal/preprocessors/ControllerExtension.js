/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/core/Component","sap/ui/fl/initial/_internal/Loader","sap/ui/fl/initial/_internal/ManifestUtils","sap/ui/fl/initial/_internal/StorageUtils","sap/ui/fl/requireAsync","sap/ui/fl/Utils"],function(e,t,n,r,i,o,a){"use strict";var s=function(){};function u(e){return e.getChangeType()==="codeExt"}function l(e){if(!e.startsWith("module:")){return`module:${e.replace(/\./g,"/")}.controller`}return e}function c(e,t){var n=l(t.getSelector().controllerName);return n===l(e)}function f(t){return new Promise(function(n){sap.ui.require(t,function(...e){n(e)},function(t){e.error("Code Extension not found",t.message);n([])})})}s.prototype.getControllerExtensions=function(e,s,l,p){if(l){if(!s){return Promise.resolve([])}var g=t.getComponentById(s);var m=a.getAppComponentForControl(g);if(!m){return Promise.resolve([])}if(!a.isApplication(m.getManifestObject())){return Promise.resolve([])}var d=r.getFlexReferenceForControl(m);return n.waitForInitialization(d).then(async function(){const t=n.getCachedFlexData(d);if(!i.isStorageResponseFilled(t?.changes)){return[]}const r=await o("sap/ui/fl/apply/_internal/flexState/FlexState");await r.waitForInitialization(d);const a=r.getFlexObjectsDataSelector().get({reference:d});const s=a.filter(function(t){return u(t)&&c(e,t)});const l=[];const g=s.filter(function(e){const t=e.getContent().viewId;if(!t){l.push(e);return false}return t===p});const m=l.concat(g).map(function(e){return e.getModuleName()});return f(m)})}return[]};return s});
//# sourceMappingURL=ControllerExtension.js.map