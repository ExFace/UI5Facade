{"version":3,"file":"URLHandler.js","names":["sap","ui","define","deepEqual","isEmptyObject","merge","ObjectPath","Log","ManagedObjectObserver","Component","VariantUtil","VariantManagementState","VariantManagerApply","hasher","_mVariantIdChangeHandlers","URLHandler","getUpdatedURLParameters","aNewHashParameters","oModel","aAddedVMReferences","reduce","oResultantParameters","sVariantReference","sVariantManagementReference","getVariantManagementReference","variantManagementReference","includes","updateRequired","push","oData","currentVariant","defaultVariant","parameters","checkAndUpdateURLParameters","sHash","oParsedHash","getUShellService","parseShellHash","getHash","vRelevantParameters","get","VARIANT_TECHNICAL_PARAMETER","Array","isArray","length","split","oUpdatedParameters","update","updateURL","_bDesignTimeMode","updateHashEntry","model","handleVariantIdChangeInURL","sNewHash","oURLParsingService","oError","error","message","oShellNavigationInternalService","NavigationFilterStatus","Continue","registerNavigationFilter","sFlexReference","bind","deRegisterNavigationFilter","unregisterNavigationFilter","setTechnicalURLParameterValues","mPropertyBag","oNavigationService","params","mOldHashParams","mTechnicalParameters","oAppComponent","getComponentData","technicalParameters","warning","toString","silent","changed","active","replaceHash","constructShellHash","navigate","target","semanticObject","action","context","contextRaw","appSpecificRoute","writeHistory","getVariantIndexInURL","mReturnObject","index","mURLParameters","getStoredHashParams","map","decodeURIComponent","sParam","sParamDecoded","some","iIndex","getVariant","vmReference","isVariantParameterPresent","variantTechnicalParameterName","initialize","attachHandlers","_oHashData","hashParams","controlPropertyObservers","variantControlIds","updateVariantInURL","mUpdatedParameters","removeURLParameterForVariantManagement","aParameters","bIsDefaultVariant","newVReference","concat","slice","mVariantParametersInURL","splice","async","observerHandler","waitForAllVariantSwitches","forEach","oObserver","destroy","oComponentDestroyObserver","unobserve","observe","registerControl","info","prototype","call","handleModelContextChange","sContextChangeEvent","handleContextChange","oEvent","oParams","getSource","aVariantManagements","indexOf","sVariantManagementToBeReset","oAffectedVMControl","getVariantManagementControlByVMReference","appComponent","updateCurrentVariant","newVariantReference","getDefaultVariantKey","vmControl","oControlPropertyObserver","current","old","object","attachEvent","detachEvent","properties","getResetOnContextChange","clearAllVariantURLParameters"],"sources":["URLHandler-dbg.js"],"mappings":"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","ignoreList":[]}