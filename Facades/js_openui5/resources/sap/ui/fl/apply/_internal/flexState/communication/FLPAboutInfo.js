/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Lib","sap/ui/fl/initial/_internal/FlexInfoSession","sap/ui/fl/initial/_internal/Loader","sap/ui/fl/initial/_internal/ManifestUtils","sap/ui/fl/Utils"],function(e,t,a,n,i){"use strict";let o={};function s(e,t,a,n){const i={info:{customProperties:{[n]:{label:t,value:a,showInAbout:true}}}};e.setAppInfo(i)}function r(e){if(e.homePage||e.applicationType!=="UI5"){return false}return true}async function c(i,o){if(r(o)){const r=o.componentInstance;const c=n.getFlexReference({componentData:r.getComponentData(),manifest:r.getManifest()});const p={reference:c,componentId:r.getId(),manifest:r.getManifestObject(),componentData:r.getComponentData(),asyncHints:r._componentConfig.asyncHints};await a.getFlexData(p);const f=t.getByReference(c)?.adaptationId;if(f==="DEFAULT"||!f){return}const u=t.getByReference(c)?.adaptationTitle;const l=e.getResourceBundleFor("sap.ui.fl").getText("CBA_ABOUT_INFO_DIALOG_LABEL");const d=`${u} (${f})`;s(i,l,d,"ui5.flex.adaptation")}}async function p(){const e=await i.getUShellService("AppLifeCycle");const t=e.getCurrentApplication();if(t){await c(e,t)}e.attachAppLoaded(e,o.onAppLoadedListener)}function f(){return new Promise(e=>{sap.ui.require(["sap/ushell/api/BootstrapObserver"],async function(t){await t.ready();e()})})}function u(){return new Promise(t=>{e.attachLibraryChanged(e=>{if(e.getParameter("operation")==="add"&&e.getParameter("metadata").sName==="sap.ushell"){t()}})})}async function l(){if(!e.isLoaded("sap.ushell")){await u()}await f()}o={async initialize(){await l();await p()},async onAppLoadedListener(e,t){const a=e.getParameters();await c(t,a)}};return o});
//# sourceMappingURL=FLPAboutInfo.js.map