{"version":3,"file":"ControlVariantApplyAPI.js","names":["sap","ui","define","Log","JsControlTreeModifier","Component","Element","URLHandler","VariantUtil","VariantManagementState","VariantManagerApply","FlexObjectState","ManifestUtils","Utils","VARIANT_MODEL_NAME","waitForVariantModel","oAppComponent","oVariantModel","getModel","Promise","resolve","onModelContextChange","detachModelContextChange","attachModelContextChange","handleInitialLoadScenario","sVMReference","oVariantManagementControl","sFlexReference","aVariantChangesForVariant","getVariantChangesForVariant","vmReference","reference","sDefaultVariantReference","getDefaultVariantReference","getExecuteOnSelectionForStandardDefault","some","oVariantChange","getChangeType","oStandardVariant","getVariant","vReference","instance","setExecuteOnSelection","updateVariant","variant","waitForInitialVariantChanges","mPropertyBag","aCurrentVariantChanges","getInitialUIChanges","aSelectors","reduce","aCurrentControls","oChange","oSelector","getSelector","oControl","bySelector","appComponent","indexOfObject","selector","push","length","waitForFlexObjectsToBeApplied","waitForControlToBeRendered","getDomRef","addEventDelegate","onAfterRendering","ControlVariantApplyAPI","getVariantModelName","getVariantModel","getVariantManagementControlByVMReference","sVariantManagementReference","clearVariantParameterInURL","aUpdatedVariantParameters","getAppComponentForControl","control","error","isA","getLocalId","getId","mCleansedParametersWithIndex","removeURLParameterForVariantManagement","model","parameters","update","updateURL","updateHashEntry","silent","activateVariant","logAndThrowError","oError","oElement","element","getComponentById","getElementById","Error","getFlexReferenceForControl","standardVariant","sVariantReference","oVMControl","getVariantManagementReference","getVariantManagementReferenceForVariant","variantReference","loadVariant","componentId","this","waitForInit","updateCurrentVariant","newVariantReference","vmControl","attachVariantApplied","vmControlId","id","bInitialLoad","callAfterInitialVariant","then","sCurrentVariantReference","getCurrentVariantReference","oVariant","callback","getRelevantVariantManagementControlId","setShowExecuteOnSelection","_addVariantAppliedListener","detachVariantApplied","all","_removeVariantAppliedListener"],"sources":["ControlVariantApplyAPI-dbg.js"],"mappings":"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","ignoreList":[]}