/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/core/util/reflection/JsControlTreeModifier","sap/ui/fl/apply/_internal/controlVariants/Utils","sap/ui/fl/apply/_internal/flexState/FlexState","sap/ui/fl/initial/_internal/FlexConfiguration","sap/ui/fl/initial/_internal/ManifestUtils","sap/ui/fl/initial/_internal/Settings","sap/ui/fl/initial/api/InitialFlexAPI","sap/ui/fl/Layer","sap/ui/fl/Utils","sap/ui/VersionInfo","sap/ui/fl/apply/_internal/init"],function(e,t,n,r,o,i,s,a,l,c,u){"use strict";var p={isPersonalized(n){function o(t){e.error(t);return Promise.reject(t)}function s(e){return e.getLayer()===l.USER}function a(e){return e.getFileType()==="change"}function u(e,n,r){var o=n.map(function(e){return e.id||e.getId()});var i=r.getSelector();var s=t.getControlIdBySelector(i,e);return o.includes(s)}function p(e,t){return Array.isArray(e)&&e.length>0?e.includes(t.getChangeType()):true}if(!n.selectors||n.selectors.length===0){return o("At least one control ID has to be provided as a parameter")}var g=n.selectors[0].appComponent||c.getAppComponentForControl(n.selectors[0]);if(!g){return o("App Component could not be determined")}const f=i.getFlexReferenceForControl(g);const d=r.getFlexObjectsDataSelector().get({reference:f}).filter(a).filter(s).filter(u.bind(this,g,n.selectors)).filter(p.bind(this,n.changeTypes));return Promise.resolve(d.length>0)},waitForChanges(e){return a.waitForChanges(e)},isFlexSupported(e){return!!c.getAppComponentForControl(e.element)},hasVariantManagement(e){return n.belongsToVariantManagement(e.element)},getFlexReference(e){return i.getFlexReferenceForControl(e.element)},getConfiguredFlexServices(){return o.getFlexibilityServices()},getFlexVersion(e){return a.getFlexVersion(e)},async getFeedbackInformation(e){const t=this.getConfiguredFlexServices()[0].connector;const n=c.getAppDescriptor(e.rootControl);const r=await u.load();const o=i.getAppIdFromManifest(n);const s=i.getAppVersionFromManifest(n);return{appId:o,appVersion:s,connector:t,version:r.version}},_getHostname(){return document.location.hostname},isCustomerSystem(){const e=s.getInstanceOrUndef();const t=e?.getSystemType();const n={CUSTOMER:true,SAP:false}[t];const r=this._getHostname();return n!==undefined?n:!(r==="localhost"||r==="127.0.0.1")},isAtoEnabled(){return s.getInstanceOrUndef()?.getIsAtoEnabled()},getSystem(){return s.getInstanceOrUndef()?.getSystem()},getUserId(){return s.getInstanceOrUndef()?.getUserId()}};return p});
//# sourceMappingURL=FlexRuntimeInfoAPI.js.map