/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/mdc/odata/v4/GeomapDelegate","sap/ui/mdc/GeomapDelegate","sap/ui/mdc/geomap/PropertyHelper","sap/base/Log","../GeomapDelegate","sap/ui/mdc/enums/GeomapControlPosition"],function(e,t,n,o,i,r){"use strict";const a=Object.assign({},e,i);const g=new window.WeakMap;a._getState=function(e){if(g.has(e)){return g.get(e)}return{}};a._setState=function(e,t){g.set(e,t)};a._getMetadataInfo=e=>e.getDelegate().payload;a._getModel=e=>e.getModel(a._getMetadataInfo(e).model);a.fetchProperties=e=>{const t=a._getModel(e);let n;if(!t){n=new Promise(function(t){e.attachModelContextChange({resolver:t},s,this)}.bind(this)).then(function(t){return a._createPropertyInfos(e,t)})}else{n=a._createPropertyInfos(e,t)}return n.then(function(t){if(e.data){e.awaitPropertyHelper().then(function(n){n.setProperties(t);e.setPropertyInfo(t)})}return t})};function s(e,t){const n=e.getSource();const o=this._getModel(n);if(o){n.detachModelContextChange(s);t.resolver(o)}}a.getBindingInfo=function(e){return{path:"/"+a._getMetadataInfo(e).collectionName}};a.initializeGeomap=function(e){return new Promise(function(t,n){a._createContentFromPropertyInfos(e);t(e)})};a.initPropertyHelper=function(e){return new Promise(function(e){e(new n([]))})};a.createInitialGeomapContent=function(e){const t=e.getAggregation("_geomap");const n=a._getState(e);n.innerGeomap=t;a._setState(e,n)};a._getPropertyInfosByName=function(e,t){return t._getPropertyByNameAsync(e)};a._geomapDataLoadComplete=function(e){this.setBusy(false)};a.addItem=function(e,t,n){return new Promise(function(e,t){e()})};a.removeItem=function(e,t,n){t.destroy();return Promise.resolve(true)};a.insertItemToGeomap=function(e,t,n,o){};a.removeItemToGeomap=function(e,t){};a.propagateItemChangeToGeomap=function(e,t){if(t.mutation==="insert"){if(t.child){o.info("Inserting item to geomap: "+t)}a.rebind(e,a.getBindingInfo(e))}};a.updateBindingInfo=function(e,n){t.updateBindingInfo.call(a,e,n);n.path="/"+e.getPayload().collectionName};a._getInnerGeomap=function(e){return e.getAggregation("_geomap")};a.getZoomLevel=function(e){e.getControlDelegate()._getInnerGeomap(e).getZoom()};a.zoomIn=function(e){e.getAggregation("_geomap").setZoom(e.getAggregation("_geomap").getZoom()+1)};a.zoomOut=function(e){e.getAggregation("_geomap").setZoom(e.getAggregation("_geomap").getZoom()-1)};a.getGeomapBound=function(e){const t=this._getState(e);return!!t?.innerGeomap};a.getControlPositions=function(){return{controlPositions:{navigation:r.TopLeft,selection:r.TopRight,fullscreen:r.TopRight,scale:r.BottomLeft}}};a.getProvider=function(){return""};a._setBindingInfoForState=function(e,t){if(g.has(e)){g.get(e).bindingInfo=t}else{g.set(e,{bindingInfo:t})}};a.rebind=function(e,t){return};return a});
//# sourceMappingURL=GeomapDelegate.js.map