{"version":3,"file":"Stack.js","names":["sap","ui","define","ManagedObject","JsControlTreeModifier","Lib","PersistenceWriteAPI","FlUtils","CompositeCommand","FlexCommand","ManifestCommand","Settings","showMessageBox","pushToStack","oComponent","mComposite","oStack","oChange","oSelector","getSelector","oCommand","selector","changeType","getChangeType","element","bySelector","_oPreparedChange","sCompositeId","getSupportInformation","compositeCommand","pushExecutedCommand","addCommand","handleDiscardedChanges","aDiscardedChanges","bSaveRelevant","aAllExecutedCommands","this","getAllExecutedCommands","forEach","some","oExecutedCommand","vPreparedChange","getPreparedChange","Array","isArray","oPreparedChangeItem","getId","setRelevantForSave","Stack","extend","metadata","library","properties","saved","type","defaultValue","lastCommandExecuted","Promise","resolve","lastCommandUnExecuted","aggregations","commands","multiple","events","modified","initializeWithChanges","async","oControl","aFileNames","_aPersistedChanges","length","getAppComponentForControl","mPropertyBag","invalidateCache","aChanges","_getUIChanges","mChanges","reduce","sFileName","push","bind","prototype","init","_aCommandExecutionHandler","_toBeExecuted","_getCommandToBeExecuted","getCommands","fireModified","bExecuted","_bUndoneCommands","pop","insertCommand","top","removeCommand","vObject","bSuppressInvalidate","oRemovedCommand","removeAggregation","removeAllCommands","bRemoveChangesFromPersistence","aCommands","removeAllAggregation","removeCommandChangesFromPersistence","call","isEmpty","addCommandChangesToPersistence","oAppComponent","aSubCommands","getSubCommands","aManifestPromises","map","oSubCommand","getRuntimeOnly","undefined","createAndStoreChange","getAppComponent","filter","Boolean","all","indexOf","add","flexObjects","aFlexObjects","remove","execute","setLastCommandExecuted","getLastCommandExecuted","catch","then","getDiscardedChanges","oCaughtError","oError","Error","index","command","oRtaResourceBundle","getResourceBundleFor","sErrorMessage","isA","message","getText","title","_unExecute","setLastCommandUnExecuted","getLastCommandUnExecuted","canUndo","undo","canSave","getRelevantForSave","canRedo","redo","pushAndExecute","i","concat","compositeLastTwoCommands","oLastCommand","oSecondLastCommand","oCompositeCommand"],"sources":["Stack-dbg.js"],"mappings":";;;;;AAKAA,IAAIC,GAAGC,OAAO,CACb,4BACA,oDACA,kBACA,0CACA,kBACA,sCACA,iCACA,qCACA,8BACA,kCACE,SACFC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAEA,aAEA,SAASC,EAAYC,EAAYC,EAAYC,EAAQC,GACpD,MAAMC,EAAYD,EAAQE,aAAeF,EAAQE,cACjD,MAAMC,EAAW,IAAIT,EAAS,CAC7BU,SAAUH,EACVI,WAAYL,EAAQM,gBACpBC,QAASpB,EAAsBqB,WAAWP,EAAWJ,KAEtDM,EAASM,iBAAmBT,EAE5B,MAAMU,EAAeV,EAAQW,wBAAwBC,iBACrD,GAAIF,EAAc,CACjB,IAAKZ,EAAWY,GAAe,CAC9BZ,EAAWY,GAAgB,IAAInB,EAC/BQ,EAAOc,oBAAoBf,EAAWY,GACvC,CACAZ,EAAWY,GAAcI,WAAWX,EACrC,KAAO,CACNJ,EAAOc,oBAAoBV,EAC5B,CACD,CAGA,SAASY,EAAuBC,EAAmBC,GAClD,MAAMC,EAAuBC,KAAKC,yBAClCJ,EAAkBK,QAASrB,IAC1BkB,EAAqBI,KAAMC,IAI1B,MAAMC,EAAkBD,EAAiBE,sBACzC,GAAIC,MAAMC,QAAQH,GAAkB,CACnC,OAAOA,EAAgBF,KAAMM,IAC5B,GAAIA,EAAoBC,UAAY7B,EAAQ6B,QAAS,CACpDN,EAAiBO,mBAAmBb,GACpC,OAAO,IACR,CACA,OAAO,OAET,MAAO,GAAIO,EAAiB,CAC3B,GAAIA,EAAgBK,UAAY7B,EAAQ6B,QAAS,CAChDN,EAAiBO,mBAAmBb,GACpC,OAAO,IACR,CACA,OAAO,KACR,CACA,OAAO,SAGV,CAcA,MAAMc,EAAQ7C,EAAc8C,OAAO,2BAA4B,CAC9DC,SAAU,CACTC,QAAS,aACTC,WAAY,CAIXC,MAAO,CACNC,KAAM,UACNC,aAAc,OAMfC,oBAAqB,CACpBF,KAAM,SACNC,aAAcE,QAAQC,WAMvBC,sBAAuB,CACtBL,KAAM,SACNC,aAAcE,QAAQC,YAIxBE,aAAc,CACbC,SAAU,CACTP,KAAM,iCACNQ,SAAU,OAGZC,OAAQ,CAIPC,SAAU,CAAC,MAYdhB,EAAMiB,sBAAwBC,eAAeC,EAAUC,GACtD,MAAMpD,EAAS,IAAIgC,EACnBhC,EAAOqD,mBAAqBD,EAC5B,GAAIA,GAAYE,OAAS,EAAG,CAC3B,MAAMxD,EAAaP,EAAQgE,0BAA0BJ,GACrD,MAAMK,EAAe,CACpBnD,SAAUP,EACV2D,gBAAiB,OAElB,MAAMC,QAAiBpE,EAAoBqE,cAAcH,GACzD,MAAMzD,EAAa,CAAC,EACpB,MAAM6D,EAAW,CAAC,EAClBF,EAASpC,QAASrB,IACjB2D,EAAS3D,EAAQ6B,SAAW7B,IAE7BmD,EACCS,OAAO,CAACH,EAAUI,KAClB,MAAM7D,EAAU2D,EAASE,GACzB,GAAI7D,EAAS,CACZyD,EAASK,KAAK9D,EACf,CACA,OAAOyD,GACL,IACFpC,QAAQzB,EAAYmE,KAAK,KAAMlE,EAAYC,EAAYC,GACzD,CACA,OAAOA,CACR,EAEAgC,EAAMiC,UAAUC,KAAO,WACtB9C,KAAK+C,0BAA4B,GACjC/C,KAAKgD,eAAiB,CACvB,EAEApC,EAAMiC,UAAUI,wBAA0B,WACzC,OAAOjD,KAAKkD,cAAclD,KAAKgD,cAChC,EAQApC,EAAMiC,UAAUnD,oBAAsB,SAASV,GAC9CgB,KAAK2C,KAAK3D,EAAU,MACpBgB,KAAKmD,cACN,EAEAvC,EAAMiC,UAAUF,KAAO,SAAS3D,EAAUoE,GAEzC,GAAIpD,KAAKqD,iBAAkB,CAC1BrD,KAAKqD,iBAAmB,MACxB,MAAOrD,KAAKgD,eAAiB,EAAG,CAC/BhD,KAAKsD,KACN,CACD,CACAtD,KAAKuD,cAAcvE,EAAU,GAC7B,IAAKoE,EAAW,CACfpD,KAAKgD,eACN,CACD,EAEApC,EAAMiC,UAAUW,IAAM,WACrB,OAAOxD,KAAKkD,cAAc,EAC3B,EAEAtC,EAAMiC,UAAUS,IAAM,WACrB,GAAItD,KAAKgD,eAAiB,EAAG,CAC5BhD,KAAKgD,eACN,CACA,OAAOhD,KAAKyD,cAAc,EAC3B,EAEA7C,EAAMiC,UAAUY,cAAgB,SAASC,EAASC,GACjD,MAAMC,EAAkB5D,KAAK6D,kBAAkB,WAAYH,EAASC,GACpE,OAAOC,CACR,EAEAhD,EAAMiC,UAAUiB,kBAAoB,SAASH,EAAqBI,GACjE,MAAMC,EAAYhE,KAAKiE,qBAAqB,WAAYN,GACxD,GAAII,EAA+B,CAClCG,EAAoCC,KAAKnE,KAAMgE,EAChD,CACAhE,KAAKgD,eAAiB,EACtBhD,KAAKmD,eACL,OAAOa,CACR,EAEApD,EAAMiC,UAAUuB,QAAU,WACzB,OAAOpE,KAAKkD,cAAchB,SAAW,CACtC,EAEAJ,eAAeuC,EAA+BrF,GAC7C,IAAIsF,EACJ,MAAMC,EAAevE,KAAKwE,eAAexF,GACzC,MAAMyF,EAAoB,GAC1B,IAAInC,EAAWiC,EAAaG,IAAKC,IAEhC,GAAIA,EAAYC,iBAAkB,CACjC,OAAOC,SACR,CAEA,GAAIF,aAAuBrG,EAAiB,CAC3CmG,EAAkB9B,KAAKgC,EAAYG,wBACnC,OAAOD,SACR,CACA,GAAIF,aAAuBtG,EAAa,CACvCiG,EAAgBK,EAAYI,kBAC5B,GAAIT,EAAe,CAClB,OAAOK,EAAYrE,mBACpB,CACD,CACA,OAAOuE,YACLG,OAAOC,eACJ5D,QAAQ6D,IAAIT,GAElB,GAAIzE,KAAKiC,mBAAoB,CAC5BK,EAAWA,EAAS0C,OAAQnG,GAAYmB,KAAKiC,mBAAmBkD,QAAQtG,EAAQ6B,YAAc,EAC/F,CACA,GAAI4D,EAAe,CAClBpG,EAAoBkH,IAAI,CACvBC,YAAa/C,EACbrD,SAAUqF,GAEZ,CACD,CAEA,SAASJ,EAAoCF,GAC5C,IAAIM,EACJ,MAAMgB,EAAe,GACrBtB,EAAU9D,QAASlB,IAClB,MAAMuF,EAAevE,KAAKwE,eAAexF,GACzCuF,EAAarE,QAASyE,IAErB,KAAMA,aAAuBtG,GAAesG,aAAuBrG,IAC/DqG,EAAYC,iBAAkB,CACjC,MACD,CACA,MAAM/F,EAAU8F,EAAYrE,oBAC5BgE,EAAgBK,EAAYI,kBAC5B,GAAIT,EAAe,CAClBgB,EAAa3C,KAAK9D,EACnB,MAGF,GAAIyF,EAAe,CAClBpG,EAAoBqH,OAAO,CAC1BF,YAAaC,EACbrG,SAAUqF,GAEZ,CACD,CAEA1D,EAAMiC,UAAU2C,QAAU,WACzBxF,KAAKyF,uBACJzF,KAAK0F,yBACJC,MAAM,QAGNC,KAAK9D,UACL,MAAM9C,EAAWgB,KAAKiD,0BACtB,GAAIjE,EAAU,CACb,UACOqF,EAA+BF,KAAKnE,KAAMhB,SAC1CA,EAASwG,UACfxF,KAAKgD,gBACL,MAAMnD,EAAoBb,EAAS6G,wBACnC,GAAIhG,EAAmB,CACtBD,EAAuBuE,KAAKnE,KAAMH,EAAmB,MACtD,CACAG,KAAKmD,cACN,CAAE,MAAO2C,GACR,MAAMC,EAASD,GAAgB,IAAIE,MAAM,mCACzCD,EAAOE,MAAQjG,KAAKgD,cACpB+C,EAAOG,QAAUlG,KAAKyD,cAAczD,KAAKgD,eACzChD,KAAKgD,gBAELkB,EAAoCC,KAAKnE,KAAM,CAAC+F,EAAOG,UACvD,MAAMC,EAAqBlI,EAAImI,qBAAqB,cAEpD,MAAMC,EAAgBrH,EAASsH,IAAI,6CAClCP,EAAOQ,QAAUJ,EAAmBK,QAAQ,4BAA6B,CAACT,EAAOQ,UAClF/H,EACC6H,EACA,CAAEI,MAAON,EAAmBK,QAAQ,iBACpC,SAED,MAAMT,CACP,CACD,CACA,OAAOlB,aAGT,OAAO7E,KAAK0F,wBACb,EAEA9E,EAAMiC,UAAU6D,WAAa,WAC5B1G,KAAK2G,yBACJ3G,KAAK4G,2BACJjB,MAAM,QAGNC,KAAK9D,UACL,GAAI9B,KAAK6G,UAAW,CACnB7G,KAAKqD,iBAAmB,KACxBrD,KAAKgD,gBACL,MAAMhE,EAAWgB,KAAKiD,0BACtB,MAAMpD,EAAoBb,EAAS6G,wBACnC,GAAI7G,EAAU,OACPA,EAAS8H,OACf5C,EAAoCC,KAAKnE,KAAM,CAAChB,IAChD,GAAIa,EAAmB,CACtBD,EAAuBuE,KAAKnE,KAAMH,EAAmB,KACtD,CACAG,KAAKmD,cACN,CACD,KAGF,OAAOnD,KAAK4G,0BACb,EAEAhG,EAAMiC,UAAUgE,QAAU,WACzB,OAAQ7G,KAAKgD,cAAgB,EAAKhD,KAAKkD,cAAchB,MACtD,EAEAtB,EAAMiC,UAAUkE,QAAU,WACzB,OAAO/G,KAAK6G,WAAa7G,KAAKC,yBAAyBE,KAAMnB,GAAaA,EAASgI,qBACpF,EAEApG,EAAMiC,UAAUiE,KAAO,WACtB,OAAO9G,KAAK0G,YACb,EAEA9F,EAAMiC,UAAUoE,QAAU,WACzB,QAASjH,KAAKiD,yBACf,EAEArC,EAAMiC,UAAUqE,KAAO,WACtB,OAAOlH,KAAKwF,SACb,EAEA5E,EAAMiC,UAAUsE,eAAiB,SAASnI,GACzCgB,KAAK2C,KAAK3D,GACV,OAAOgB,KAAKwF,SACb,EAQA5E,EAAMiC,UAAU5C,uBAAyB,WACxC,IAAIF,EAAuB,GAC3B,MAAMiE,EAAYhE,KAAKkD,cACvB,IAAK,IAAIkE,EAAIpD,EAAU9B,OAAS,EAAGkF,EAAIpH,KAAKgD,cAAeoE,IAAK,CAC/D,MAAM7C,EAAevE,KAAKwE,eAAeR,EAAUoD,IACnDrH,EAAuBA,EAAqBsH,OAAO9C,EACpD,CACA,OAAOxE,CACR,EASAa,EAAMiC,UAAU2B,eAAiB,SAASxF,GACzC,IAAIgF,EAAY,GAChB,GAAIhF,EAASkE,YAAa,CACzBlE,EAASkE,cAAchD,QAASyE,IAC/B,MAAMJ,EAAevE,KAAKwE,eAAeG,GACzCX,EAAYA,EAAUqD,OAAO9C,IAE/B,KAAO,CACNP,EAAUrB,KAAK3D,EAChB,CAEA,OAAOgF,CACR,EAOApD,EAAMiC,UAAUyE,yBAA2B,WAC1C,MAAMC,EAAevH,KAAKsD,MAC1B,MAAMkE,EAAqBxH,KAAKsD,MAEhC,MAAMmE,EAAoB,IAAIrJ,EAC9BqJ,EAAkB9H,WAAW6H,GAC7BC,EAAkB9H,WAAW4H,GAC7BvH,KAAK2C,KAAK8E,EACX,EAEA,OAAO7G,CACR","ignoreList":[]}