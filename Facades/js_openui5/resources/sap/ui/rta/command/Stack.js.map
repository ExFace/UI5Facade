{"version":3,"file":"Stack.js","names":["sap","ui","define","ManagedObject","PersistenceWriteAPI","FlUtils","Settings","CompositeCommand","JsControlTreeModifier","showMessageBox","Lib","toAvailableChanges","mChanges","aChanges","sFileName","oChange","push","pushToStack","oComponent","mComposite","oStack","oSelector","getSelector","oCommand","selector","changeType","getChangeType","element","bySelector","_oPreparedChange","sCompositeId","getSupportInformation","compositeCommand","pushExecutedCommand","addCommand","handleDiscardedChanges","aDiscardedChanges","bSaveRelevant","aAllExecutedCommands","this","getAllExecutedCommands","forEach","some","oExecutedCommand","vPreparedChange","getPreparedChange","Array","isArray","oPreparedChangeItem","getId","setRelevantForSave","Stack","extend","metadata","library","properties","saved","type","defaultValue","lastCommandExecuted","Promise","resolve","aggregations","commands","multiple","events","modified","commandExecuted","parameters","command","undo","initializeWithChanges","oControl","aFileNames","_aPersistedChanges","length","getAppComponentForControl","mPropertyBag","invalidateCache","_getUIChanges","then","reduce","bind","prototype","addCommandExecutionHandler","fnHandler","_aCommandExecutionHandler","removeCommandExecutionHandler","i","indexOf","splice","init","_toBeExecuted","_waitForCommandExecutionHandler","mParam","all","map","_getCommandToBeExecuted","getCommands","fireModified","bExecuted","_bUndoneCommands","pop","insertCommand","top","removeCommand","vObject","bSuppressInvalidate","oRemovedCommand","removeAggregation","removeAllCommands","aCommands","removeAllAggregation","isEmpty","execute","setLastCommandExecuted","getLastCommandExecuted","catch","getDiscardedChanges","call","fireCommandExecuted","oError","Error","index","oRtaResourceBundle","getResourceBundleFor","sErrorMessage","isA","message","getText","title","reject","undefined","_unExecute","canUndo","canSave","getRelevantForSave","canRedo","redo","pushAndExecute","aSubCommands","getSubCommands","concat","oSubCommand","compositeLastTwoCommands","oLastCommand","oSecondLastCommand","oCompositeCommand"],"sources":["Stack-dbg.js"],"mappings":"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","ignoreList":[]}