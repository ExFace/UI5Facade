/*!
 * OpenUI5
 * (c) Copyright 2026 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/i18n/ResourceBundle","sap/base/util/merge","sap/base/util/ObjectPath","sap/base/Log","sap/ui/base/ManagedObject","sap/ui/core/Lib","sap/ui/dt/DOMUtil","sap/ui/dt/ElementUtil"],function(t,e,r,n,a,o,i,s){"use strict";function u(t,e){if(typeof t==="function"){t=t(e)}if(typeof t==="string"){return{changeType:t}}return t}var p=a.extend("sap.ui.dt.DesignTimeMetadata",{metadata:{library:"sap.ui.dt",properties:{data:{type:"any",defaultValue:{}}}}});p.prototype.setData=function(t){this.setProperty("data",e({},this.getDefaultData(),t));return this};p.prototype.getDefaultData=function(){return{ignore:false,domRef:undefined}};p.prototype.isIgnored=function(t){var e=this.getData().ignore;if(!e||e&&typeof e==="function"&&!e(t)){return false}return true};p.prototype.markedAsNotAdaptable=function(){var t=this.getData().actions;return t==="not-adaptable"};p.prototype.getDomRef=function(){return this.getData().domRef};p.prototype.getAssociatedDomRef=function(...t){const[e,r,n]=t;if(e){var a=s.getDomRef(e);var o=[];o.push(e);if(n){o.push(n)}if(typeof r==="function"){try{var u=r(...t);if(u instanceof NodeList){u=Array.from(u)}return u}catch(t){return undefined}}else if(a&&typeof r==="string"){return i.getDomRefForCSSSelector(a,r)}}return undefined};p.prototype.getAction=function(t,e,n){var a=this.getData();var o=["actions",t];if(n){o.push(n)}return u(r.get(o,a),e)};p.prototype.getCommandName=function(t,r,n){var a=this.getData();var o=e({},n&&a.aggregations[n]?a.aggregations[n].actions:{},a.actions);function i(e){return Object.keys(e).map(function(n){var a=e[n];if(n==="add"&&!a.changeType){return{delegate:"addDelegateProperty",custom:"customAdd"}[i(a)]}try{var o=u(a,r);return o&&o.changeType===t&&n}catch(t){return undefined}}).filter(Boolean)[0]}return i(o)};p.prototype.getLibraryText=function(t,e,r){var n=t.getMetadata();return this._lookForLibraryTextInHierarchy(n,e,r)};p.prototype._lookForLibraryTextInHierarchy=function(t,e,r){var n;var a;var o;n=t.getLibraryName();o=this._getTextFromLibrary(n,e,r);if(!o){a=t.getParent();if(a&&a.getLibraryName){o=this._lookForLibraryTextInHierarchy(a,e,r)}else{o=e}}return o};p.prototype._getTextFromLibrary=function(e,r,n){let a=t.create({bundleName:`${e}/designtime/messagebundle`});if(a&&a.hasText(r)){return a.getText(r,n)}a=o.getResourceBundleFor(e);if(a&&a.hasText(r)){return a.getText(r,n)}return undefined};p.prototype.getLabel=function(...t){var e=this.getData().getLabel;return typeof e==="function"?e.apply(this,t):undefined};p.prototype.getControllerExtensionTemplate=function(){return this.getData().controllerExtensionTemplate};p.prototype.getResponsibleElement=function(t){var e=this.getData();var n=r.get(["actions","getResponsibleElement"],e);if(n){return n(t)}return undefined};p.prototype.isResponsibleActionAvailable=function(t){var e=this.getData();var n=r.get(["actions","actionsFromResponsibleElement"],e);if(n){return n.includes(t)}return false};p.prototype.getPropagatedActionInfo=function(t){const e=this.getData();const r=e.propagatedActions;if(!r){return undefined}const n=r.find(e=>e.name===t);if(!n){return undefined}return{propagatingControl:n.propagatingControl,propagatingControlName:n.propagatingControlName}};p.prototype.getPropagateActions=function(t,e){const r=this.getData();const a=e||r.propagateActions;if(a){const e=typeof a==="function"?a(t):a;if(Array.isArray(e)){return e}n.error("DesignTimeMetadata: propagateActions must be an array of action names or objects with action name and isActive function")}return[]};return p});
//# sourceMappingURL=DesignTimeMetadata.js.map