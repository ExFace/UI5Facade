{"version":3,"file":"ContextMenu.js","names":["sap","ui","define","assert","Button","FlexBox","FormattedText","Menu","MenuItem","BaseDesignTime","_createPromise","OverlayRegistry","Plugin","DtUtil","KeyCodes","Device","ContextMenu","extend","metadata","library","properties","contextElement","type","openOnClick","defaultValue","events","openedContextMenu","closedContextMenu","sMainStyleClass","prototype","init","this","oContextMenuControl","attachItemSelected","_onItemSelected","attachClosed","_contextMenuClosed","addStyleClass","_aMenuItems","_aGroupedItems","_aSubMenus","exit","destroy","addMenuItem","mMenuItem","bRetrievedFromPlugin","bPersistOneTime","mMenuItemEntry","menuItem","fromPlugin","push","registerElementOverlay","oOverlay","attachBrowserEvent","_openContextMenu","_onKeyDown","_onKeyUp","deregisterElementOverlay","detachBrowserEvent","createAdditionalInfo","oMenuItem","oAdditionalInfoButton","id","sId","icon","visible","submenu","ariaLabelledBy","getId","setTooltip","additionalInfo","collectPropagatedMenuItemPromises","aPlugins","oSelectedOverlay","map","oPlugin","oPropagatedActionInfo","getPropagatedActionInfo","oPropagatingControlOverlay","getOverlay","propagatingControl","vPropagatedMenuItems","getMenuItems","Promise","resolve","reject","then","aMenuItems","aMenuItemsWithPropagatingControl","propagatingControlName","catch","filter","Boolean","open","bIsSubMenu","oEvent","aSelectedOverlays","addMenuItems","oMenu","bStartsSection","oTargetOverlay","aTargetSelectedOverlays","forEach","index","sText","text","bEnabled","enabled","oMenuItemInstance","key","startsSection","addItem","oFlexBox","justifyContent","alignItems","htmlText","call","addEndContent","getItems","bind","oNewContextElement","getElement","_fnCancelMenuPromise","getContextElement","setContextElement","getDesignTime","getSelectionManager","attachChange","_onSelectionChanged","getSelectedOverlays","oElementOverlay","unshift","destroyItems","oPromise","oDtSyncPromise","waitForSynced","cancel","promise","aPluginItemPromises","getPlugins","vMenuItems","aPropagatedMenuItemPromises","length","oPluginItemsPromise","all","aPluginMenuItems","reduce","aConcatenatedMenuItems","concat","undefined","_addSubMenu","_addItemGroupsToMenu","aAllMenuItems","_sortMenuItems","aPropagatedMenuItems","openAsContextMenu","fireOpenedContextMenu","oError","createError","sort","mFirstEntry","mSecondEntry","rank","oEventItem","_ensureSelection","_oCurrentOverlay","callHandler","aSelection","responsible","mPropertiesBag","eventItem","handler","sSelectedItemId","getParameter","getKey","some","oItem","apply","mSubMenuItem","currentTarget","keyCode","ENTER","getIgnoreEnterKeyUpOnce","setIgnoreEnterKeyUpOnce","stopPropagation","preventDefault","SPACE","shiftKey","altKey","ctrlKey","_checkForPluginLock","F10","isSelectable","setSelected","isDesignModeEnabled","getSelected","fireClosedContextMenu","detachChange","isSelected","os","ios","getBusyPlugins","_addMenuItemToGroup","bGroupExists","_oGroupedItem","sGroupName","group","aGroupedItems","oSubMenuItem","sSubMenuId","aSubMenuItems","oGroupedItem"],"sources":["ContextMenu-dbg.js"],"mappings":"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","ignoreList":[]}